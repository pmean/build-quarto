---
title: "tally files without dashes"
format:
  html:
    embed-resources: true
execute: 
  echo: false
---

This program was written by Steve Simon on 2025-12-23 and is placed in the public domain.

## Preliminaries

```{r}
#| label: setup
#| message: false
#| warning: false
library(glue)
library(tidyverse)
```


```{r}
#| label: loop

yr_list <- as.character(1999:2025)

total_files <- 0
for (yr in yr_list) {
  file_path <- glue("../gen5/{str_sub(yr, 3, 4)}")
  file_path |>
    list.files() |>
    str_subset("md$") |>
    str_subset(fixed("-"), negate=TRUE) -> file_list
  n_files <- length(file_list)
  total_files <- total_files + n_files 
  cat("    \n")
  cat(glue("{file_path}, n={n_files}"))
  if (length(file_list)==0) next
  cat("\n  ")
  cat(paste0(file_list, collapse="\n  "))
}
cat("\n\n")
cat(glue("Total files without dashes: {total_files}"))
```
